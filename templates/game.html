<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
      // Reload the page after 5 seconds (5000 milliseconds)
      setTimeout(function() {
  // Make an AJAX request to the server to fetch the game_data
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function() {
    if (xhr.readyState === XMLHttpRequest.DONE) {
      if (xhr.status === 200) {
        var gameData = JSON.parse(xhr.responseText);
        console.log("game_data", gameData);
        if (gameData.show) {
          location.reload();
        }
      }
    }
  };
  xhr.open('GET', '/get_game_data'); // Replace '/get_game_data' with your server endpoint
  xhr.send();
}, 10000);
    </script>
</head>
<body>
<h2>Current Game:</h2>
        <p>Player 1: {{ game_data.player1 }}</p>
        <p>Player 2: {{ game_data.player2 }}</p>
        <p>Turn: {{ game_data.turn }}</p>
        <p>Score:</p>
        <p>{{ game_data.player1 }}: {{ game_data.score1 }}</p>
        <p>{{ game_data.player2 }}: {{ game_data.score2 }}</p>
        <h3>Stone Piles:</h3>
        <form method="POST" action="/game1">
            <label for="pile1">Pile 1:</label>
            <input type="number" id="pile1" name="pile1" value="{{ game_data.pile1 }}" readonly><br><br>
            <label for="pile2">Pile 2:</label>
            <input type="number" id="pile2" name="pile2" value="{{ game_data.pile2 }}" readonly><br><br>
            <label for="pile3">Pile 3:</label>
            <input type="number" id="pile3" name="pile3" value="{{ game_data.pile3 }}" readonly><br><br>
            {% if game_data.turn == game_data.player1 %}
                <p><strong>{{ game_data.player1 }}, it's your turn!</strong></p>
            {% else %}
                <p><strong>{{ game_data.player2 }}, it's your turn!</strong></p>
            {% endif %}
            <label for="stones">Pick Stones:</label>
            <input type="number" id="stones" name="stones" min="{{ game_data.min_pick }}" max="{{ game_data.max_pick }}" required><br><br>
            <label for="pile">From Pile:</label>
            <select id="pile" name="pile" required>
                <option value="pile1">Pile 1</option>
                <option value="pile2">Pile 2</option>
                <option value="pile3">Pile 3</option>
            </select><br><br>
            <input type="submit" name="pick_stones" value="Pick Stones">
        </form>
</body>
</html>